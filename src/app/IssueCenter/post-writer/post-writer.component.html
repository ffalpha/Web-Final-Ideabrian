<app-navbar></app-navbar>
<div class="TitleText">
    Add new post to {{ postCatagoryLovercase }} catagory
</div>

<form [formGroup]="editorForm" (ngSubmit)="onSubmit()">
    <div class="form-group">

        <!-- Ttile box -->
        <div class="md-form titleBox">
            <input mdbInput type="text" id="title" class="form-control">
            <label for="title" class="">Title</label>
        </div>

        <!--Custom file input-->
        <div class="fileInput">
            <input type="file" (change)="onFileChanged($event)" id="real-file" hidden="hidden" />
            <button (click)="onClickMe()" id="custom-button" mdbBtn color="primary" mdbWavesEffect>Choose an image</button>
            <span id="custom-text">No file chosen, yet.</span>
        </div>



        <!--Editor window-->
        <div class="editorWindow">
            <quill-editor (onContentChanged)="maxLength($event)" formControlName="editor" [style]="editorStyle" [modules]="editorConfig"></quill-editor>
        </div>

    </div>



    <!--Preview model  -->
    <div mdbModal #basicModal="mdbModal" class="modal fade top" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-fluid modal-full-height modal-top" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
                            <span aria-hidden="true">Ã—</span>
                        </button>
                    <h4 class="modal-title w-100" id="myModalLabel"> Preview</h4>
                </div>
                <div class="modal-body">
                    <div class="editorView">
                        <p [innerHtml]="editorContent"></p>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" mdbBtn color="danger" class="waves-light" aria-label="Close" (click)="basicModal.hide()" mdbWavesEffect>Close</button>
                    <button type="button" mdbBtn color="primary" class="relative waves-light" (click)="uploadNow()" mdbWavesEffect>Save changes</button>
                </div>
            </div>
        </div>
    </div>




    <!--Buttons -->
    <div class="buttonBar text-align-center">
        <button type="submit" name="SubmitButton" type="button" mdbBtn color="success" (click)="uploadNow()" mdbWavesEffect>Save post</button>
        <button type="button" mdbBtn color="primary" class="relative waves-light" (click)="basicModal.show()" mdbWavesEffect>Show document preview</button>
    </div>
</form>